(function(d){d.widget("ui.slider",d.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c,a,b=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+
" ui-widget ui-widget-content ui-corner-all"+(b.disabled?" ui-slider-disabled ui-disabled":""));this.range=d([]);b.range&&(!0===b.range&&(b.values||(b.values=[this._valueMin(),this._valueMin()]),b.values.length&&2!==b.values.length&&(b.values=[b.values[0],b.values[0]])),this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:"")));a=b.values&&b.values.length||1;for(c=e.length;c<a;c++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=e.add(d(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){b.disabled||d(this).addClass("ui-state-hover")}).mouseleave(function(){d(this).removeClass("ui-state-hover")}).focus(function(){b.disabled?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")});
this.handles.each(function(a){d(this).data("ui-slider-handle-index",a)});this._on(this.handles,{keydown:function(a){var b,c,e,f=d(a.target).data("ui-slider-handle-index");switch(a.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,d(a.target).addClass("ui-state-active"),b=this._start(a,f),!1===
b))return}e=this.options.step;b=this.options.values&&this.options.values.length?c=this.values(f):c=this.value();switch(a.keyCode){case d.ui.keyCode.HOME:c=this._valueMin();break;case d.ui.keyCode.END:c=this._valueMax();break;case d.ui.keyCode.PAGE_UP:c=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(b===this._valueMax())return;c=this._trimAlignValue(b+
e);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(b===this._valueMin())return;c=this._trimAlignValue(b-e)}this._slide(a,f,c)},keyup:function(a){var b=d(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),d(a.target).removeClass("ui-state-active"))}});this._refreshValue();this._animateOff=!1},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var a,b,e,f,i,g=this;i=this.options;if(i.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();a=this._normValueFromMouse({x:c.pageX,y:c.pageY});b=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var h=Math.abs(a-g.values(c));b>h&&(b=h,e=d(this),f=c)});!0===i.range&&this.values(1)===i.min&&(f+=1,e=d(this.handles[f]));if(!1===this._start(c,f))return!1;
this._mouseSliding=!0;this._handleIndex=f;e.addClass("ui-state-active").focus();i=e.offset();this._clickOffset=!d(c.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:c.pageX-i.left-e.width()/2,top:c.pageY-i.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(c,f,a);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(c){var a=
this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,a);return!1},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){var a;"horizontal"===this.orientation?(a=this.elementSize.width,
c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(a=this.elementSize.height,c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));a=c/a;1<a&&(a=1);0>a&&(a=0);"vertical"===this.orientation&&(a=1-a);c=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+a*c)},_start:function(c,a){var b={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(a),b.values=this.values());return this._trigger("start",
c,b)},_slide:function(c,a,b){var d;if(this.options.values&&this.options.values.length){d=this.values(a?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===a&&b>d||1===a&&b<d))b=d;b!==this.values(a)&&(d=this.values(),d[a]=b,c=this._trigger("slide",c,{handle:this.handles[a],value:b,values:d}),this.values(a?0:1),!1!==c&&this.values(a,b,!0))}else b!==this.value()&&(c=this._trigger("slide",c,{handle:this.handles[a],value:b}),!1!==c&&this.value(b))},_stop:function(c,a){var b={handle:this.handles[a],
value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(a),b.values=this.values());this._trigger("stop",c,b)},_change:function(c,a){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(a),b.values=this.values());this._trigger("change",c,b)}},value:function(c){if(arguments.length)this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,
0);else return this._value()},values:function(c,a){var b,e,f;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(a),this._refreshValue(),this._change(null,c);else if(arguments.length)if(d.isArray(arguments[0])){b=this.options.values;e=arguments[0];for(f=0;f<b.length;f+=1)b[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();else return this._values()},_setOption:function(c,a){var b,
e=0;d.isArray(this.options.values)&&(e=this.options.values.length);d.Widget.prototype._setOption.apply(this,arguments);switch(c){case "disabled":a?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<e;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(c){var a,b;if(arguments.length)return a=this.options.values[c],
a=this._trimAlignValue(a);a=this.options.values.slice();for(b=0;b<a.length;b+=1)a[b]=this._trimAlignValue(a[b]);return a},_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var a=0<this.options.step?this.options.step:1,b=(c-this._valueMin())%a,c=c-b;2*Math.abs(b)>=a&&(c+=0<b?a:-a);return parseFloat(c.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c,
a,b,e,f,i=this.options.range,g=this.options,j=this,h=!this._animateOff?g.animate:!1,k={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){a=100*((j.values(b)-j._valueMin())/(j._valueMax()-j._valueMin()));k["horizontal"===j.orientation?"left":"bottom"]=a+"%";d(this).stop(1,1)[h?"animate":"css"](k,g.animate);if(!0===j.options.range)if("horizontal"===j.orientation){if(0===b)j.range.stop(1,1)[h?"animate":"css"]({left:a+"%"},g.animate);if(1===b)j.range[h?"animate":"css"]({width:a-
c+"%"},{queue:!1,duration:g.animate})}else{if(0===b)j.range.stop(1,1)[h?"animate":"css"]({bottom:a+"%"},g.animate);if(1===b)j.range[h?"animate":"css"]({height:a-c+"%"},{queue:!1,duration:g.animate})}c=a});else{b=this.value();e=this._valueMin();f=this._valueMax();a=f!==e?100*((b-e)/(f-e)):0;k["horizontal"===this.orientation?"left":"bottom"]=a+"%";this.handle.stop(1,1)[h?"animate":"css"](k,g.animate);if("min"===i&&"horizontal"===this.orientation)this.range.stop(1,1)[h?"animate":"css"]({width:a+"%"},
g.animate);if("max"===i&&"horizontal"===this.orientation)this.range[h?"animate":"css"]({width:100-a+"%"},{queue:!1,duration:g.animate});if("min"===i&&"vertical"===this.orientation)this.range.stop(1,1)[h?"animate":"css"]({height:a+"%"},g.animate);if("max"===i&&"vertical"===this.orientation)this.range[h?"animate":"css"]({height:100-a+"%"},{queue:!1,duration:g.animate})}}})})(jQuery);